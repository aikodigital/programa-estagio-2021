{% extends 'base.html' %}
{% block title %}Paradas{% endblock %}
{% block content %}

<h1 id="title">Paradas</h1>
<form method="get" action="{% url 'parada:search' %}">
  {% csrf_token %}
  <div id="search-div" class="input-group mb-3">
    <input type="text" name="search-value"class="form-control" placeholder="ID ou Nome da Parada" aria-label="Search" >

      <button class="btn btn-outline-secondary" type="submit">Pesquisar</button>

  </div>
</form>
<table id="list-table" class="table" >
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Nome</th>
      <th scope="col">Latitude</th>
      <th scope="col">Longitude</th>
      <th scope="col">Editar</th>
      <th scope="col">Deletar</th>
    </tr>
  </thead>
  <tbody>
  {% for parada in paradas %}
    <tr>
      <td>{{ parada.id}}</td>
      <td><a href="{{ parada.get_absolute_url }} ">{{ parada.name}}</a></td>
      <td>{{ parada.latitude}}</td>
      <td>{{ parada.longitude }}</td>
      <td><button type="button" class="btn btn-primary"><a id ="edit-link" href = "{% url 'parada:update' parada.pk %}" >Editar</a></button></td>
      <td><button type="button" class="btn btn-danger"><a id ="delete-link" href = "{% url 'parada:delete' parada.pk %}" >Deletar</a></button></td>
    </tr>
  {% endfor %}
  </tbody>
</table>
<div id="create-div">
    <a href="{% url 'parada:create'%}">Criar Nova Parada</a>
</div>
<div id="pagination-div" class="pagination col-12" >

    <span id="pagination-span" class="step-links">
        {% if page_obj.has_previous %}
            <a href="?page=1">&laquo; Primeira</a>
            <a href="?page={{ page_obj.previous_page_number }}">Anterior</a>
        {% endif %}

        <span class="current">
            Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">Próxima</a>
            <a href="?page={{ page_obj.paginator.num_pages }}">Última &raquo;</a>
        {% endif %}

    </span>

</div>
{% endblock %}